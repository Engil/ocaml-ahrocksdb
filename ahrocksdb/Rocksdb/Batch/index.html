<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Batch (ahrocksdb.Rocksdb.Batch)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">ahrocksdb</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Rocksdb.Batch</span></h1></header><div class="doc"><p>Batch processing
RocksDB allows to batch operations through a dedicated batch object that must be fed to <a href="index.html#val-write">write</a>.
A batch object <a href="index.html#type-batch">Batch.batch</a> is a collection of operation to run on a database. (like <a href="index.html#val-put">Batch.put</a> or delete).</p></div><div class="spec type" id="type-batch"><a href="#type-batch" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>batch</code><code></code><code></code></div><div class="doc"><p>An opaque batch request must be created through <a href="index.html#val-create">create</a> and executed through <a href="index.html#val-write">write</a></p></div></div><div class="spec val" id="val-create"><a href="#val-create" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>create : unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-batch">batch</a></code></div><div class="doc"><p><code class="code">create</code> will create a batch job to be used to batch operation on the database.</p></div></div><div class="spec val" id="val-count"><a href="#val-count" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>count : <a href="index.html#type-batch">batch</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">count</code> number of operations in the batch object</p></div></div><div class="spec val" id="val-clear"><a href="#val-clear" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>clear : <a href="index.html#type-batch">batch</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>clear operations from the batch object</p></div></div><div class="spec val" id="val-put"><a href="#val-put" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>put : <a href="index.html#type-batch">batch</a> <span class="keyword">&#8209;&gt;</span> key:string <span class="keyword">&#8209;&gt;</span> value:string <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">put batch key value</code> will take a <code class="code">batch</code> job and stage the writing of the <code class="code">key</code> key and <code class="code">value</code> value in the batch job.</p></div></div><div class="spec val" id="val-write"><a href="#val-write" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>write : <a href="../index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Options/Write_options/index.html#type-t">Options.Write_options.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-batch">batch</a> <span class="keyword">&#8209;&gt;</span> (unit, <a href="../index.html#type-error">error</a>) Stdlib.result</code></div><div class="doc"><p><code class="code">write db write_options batch</code> takes a <code class="code">db</code> handle, some <code class="code">write_options</code> and a <code class="code">batch</code> job and execute it on the database.</p></div></div><div class="spec val" id="val-simple_write_batch"><a href="#val-simple_write_batch" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>simple_write_batch : <a href="../index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Options/Write_options/index.html#type-t">Options.Write_options.t</a> <span class="keyword">&#8209;&gt;</span> (string<span class="keyword"> * </span>string) list <span class="keyword">&#8209;&gt;</span> (unit, <a href="../index.html#type-error">error</a>) Stdlib.result</code></div><div class="doc"><p>A simple helper, will take a list of key_value and do a unique batch and write it to the database</p></div></div></body></html>